## asm_x64
  
本プログラムはJava仮想マシン上で動作するx64用のアセンブラです。
  
##### [動作画面]
  
![asm_x64](https://i.imgur.com/TWWKzWa.jpg)  
##### [ビルド]
  
本プログラムをビルドするためには[ObjectEditor](https://github.com/kousoz80/ObjectEditor) が動作する環境が必要です。
  
  プロジェクトファイル"asm_x64.prj"をObjectEditorで開いてコンパイルボタンをクリックすればコンパイルが始まります。

  ##### [使用方法]
以下のコマンドをタイプするとELF形式の実行可能ファイルが作成されます。

java -jar asm_x64.jar [-list] ソースファイル名 [実行可能ファイル名]


※
  
・-listオプションでアセンブルリストを表示します  
  
・実行可能ファイル名を省略すると"a.out"が作成されます

##### [命令一覧]

ラベル名 equ 数値

・・・ラベルに数値を割り当てる


align 数値

・・・アドレスを指定値で割りきれる値にアライメントする


memory 数値

・・・指定バイト分のメモリ領域を確保する


byte 数値

・・・1バイト分領域を確保して指定値を入れる


short 数値

・・・2バイト分領域を確保して指定値を入れる


int 数値

・・・4バイト分領域を確保して指定値を入れる


long 数値

・・・8バイト分領域を確保して指定値を入れる


syscall

・・・システムコール


jmp 数値

・・・数値で示されるアドレスにジャンプする


jmp (レジスタ)

・・・レジスタが示すアドレスにジャンプする


call 数値

・・・数値で示されるアドレスをコールする


call (レジスタ)

・・・レジスタが示すアドレスをコールする


ret

・・・サブルーチンから復帰する


jc 数値

jnc 数値

jz 数値

jnz 数値

jlt 数値

jle 数値

jgt 数値

jge 数値

・・・条件ジャンプ命令



shl レジスタ

shr レジスタ

sal レジスタ

rol レジスタ

rcl レジスタ

ror レジスタ

rcr レジスタ

neg レジスタ

not レジスタ

push レジスタ

pop レジスタ

レジスタ++

レジスタ--

・・・各操作を指定レジスタに対して行う



レジスタ=数値

・・・レジスタに数値を入れる



レジスタ=&数値

・・・レジスタに数値で示されるアドレスを入れる

レジスタ=&数値(rip)

・・・レジスタに数値で示されるアドレスを入れる(数値はプログラムカウンタ相対値)


レジスタ1=レジスタ2

レジスタ1+=レジスタ2

レジスタ1-=レジスタ2

レジスタ1&=レジスタ2

レジスタ1|=レジスタ2

レジスタ1^=レジスタ2

レジスタ1-レジスタ2

レジスタ1&レジスタ2

・・・２つのレジスタ間で各オペレーションを実行する



レジスタ1=(レジスタ2)

・・・レジスタ1にレジスタ2が示すアドレスの内容を入れる



(レジスタ1)=レジスタ2

・・・レジスタ1が示すアドレスにレジスタ2の内容を入れる



mul レジスタ

・・・raxとレジスタの乗算



umul レジスタ

・・・raxとレジスタの符号なし乗算



div レジスタ

・・・raxとレジスタの除算



udiv レジスタ

・・・raxとレジスタの符号なし除算



in al,(dx)

in ax,(dx)

in eax,(dx)

・・・入力命令



out (dx),al

out (dx),ax

out (dx),eax

・・・出力命令



nop

・・・なにもしない

